# File cấu hình cho Netlify

[build]
  command = "echo 'Build command is not needed for this static site'"
  functions = "netlify/functions"
  publish = "." 

[functions]
  node_bundler = "esbuild"

# ===================================================================
#           QUAN TRỌNG: QUY TẮC CỤ THỂ PHẢI ĐẶT LÊN TRÊN
# ===================================================================

# Quy tắc cho backend của Cô Tâm Đặng (mã lớp: cotamdang)
# Netlify sẽ kiểm tra quy tắc này TRƯỚC TIÊN.
[[redirects]]
  from = "/api/cotamdang/*"
  to = "https://script.google.com/macros/s/AKfycbz50Pu2CkK3bQQIJD-nvlDN1hljmf4kwwLy5WzhhrNlV0f4GlUyYaRjA4oCEWNKOjhE/exec"
  status = 200

# Quy tắc cho backend của Cô Thanh Nguyễn (mã lớp: cothanhnguyen)
# Netlify sẽ kiểm tra quy tắc này TRƯỚC TIÊN.
[[redirects]]
  from = "/api/cothanhnguyen/*"
  to = "https://script.google.com/macros/s/AKfycbwyrvFwoFfNAVlffqx1_NCSXAh3AMHCERDDI0ukEqAOZoTK2QKUK6MuauU5TFwLw89tKQ/exec"
  status = 200

# Quy tắc cho backend của Cô Kim Ngân (mã lớp: cokimngan)
# Netlify sẽ kiểm tra quy tắc này TRƯỚC TIÊN.
[[redirects]]
  from = "/api/cokimngan/*"
  to = "https://script.google.com/macros/s/AKfycbwyrvFwoFfNAVlffqx1_NCSXAh3AMHCERDDI0ukEqAOZoTK2QKUK6MuauU5TFwLw89tKQ/exec"
  status = 200

# Quy tắc cho backend của Thầy Jack (mã lớp: thayjack)
# Netlify sẽ kiểm tra quy tắc này TRƯỚC TIÊN.
[[redirects]]
  from = "/api/thayjack/*"
  to = "https://script.google.com/macros/s/AKfycbx-xaOqrB-MUp-3AAGy054m1ym7ltJ70sRUBzsk1L8_ObJoxdoA2r7mDwcuMuG4VGCS/exec"
  status = 200

# (Trong tương lai, bạn sẽ thêm quy tắc cho các giáo viên khác ở đây)


# ===================================================================
#     QUY TẮC CHUNG (DỰ PHÒNG) SẼ ĐƯỢC ĐẶT Ở DƯỚI CÙNG
# ===================================================================

# Bất kỳ request nào bắt đầu bằng /api/ MÀ KHÔNG KHỚP VỚI CÁC QUY TẮC BÊN TRÊN
# sẽ được chuyển hướng đến function tên là "proxy".
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/proxy/:splat"
  status = 200